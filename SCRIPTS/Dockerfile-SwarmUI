# Gebruik de officiÃ«le SwarmUI image als basis (meest stabiel)
FROM mcmonkey/SwarmUI:latest

# Gebruikersrechten instellen (zoals in je eerdere stack)
ARG UID=1000
ARG GID=1000

USER root
RUN apt-get update && apt-get install -y curl git && rm -rf /var/lib/apt/lists/*

# Zorg dat de mappen de juiste eigenaar hebben voor jouw PUID/PGID
RUN chown -R $UID:$GID /app

USER $UID
WORKDIR /app

# SwarmUI poort
EXPOSE 7801
# ComfyUI backend poort (intern)
EXPOSE 8188

# Start het start-script van SwarmUI
ENTRYPOINT ["/bin/bash", "/app/launch-linux.sh", "--no-vnet-lib"]
