# Shared networks, volumes, and secrets for all services
# NETWORK SEGMENTATION:
# - Use dedicated networks for each stack
# - Restrict inter-stack communication unless required
# - Document network policies
#
# CI/CD & DOCUMENTATION:
# - Use GitHub Actions or similar for automated testing/deployment
# - Document all customizations and manual steps in README.md
# - Keep this file and .env in sync

name: media-services

networks:
  host:
  media-services:
    external: true
  ai-stack:
    external: true
  iot_macvlan:
    external: true
  basic-memory-net:
  management-stack:
    external: true
  proxy:
    external: true
  cloud:
    name: cloud
    driver: bridge
    external: true
  zabbix-network:
    external: true
  kuma_network:
    driver: bridge
    external: true
  wg:
    driver: bridge
    enable_ipv6: true
    ipam:
      driver: default
      config:
        - subnet: 10.42.42.0/24
        - subnet: fdcc:ad94:bacf:61a3::/64

volumes:
  netdataconfig:
  netdatalib:
  netdatacache:
  n8n_data:
  dockge_data:
  etc_wireguard:
  grafana_data:
  gaseous_data:
  gsdb:
  kapowarr-db:
  mysql_data:
  romm_resources:
  romm_redis_data:
  rreading_glasses_data:

secrets:
  letta_pg_password:
    file: ../../secrets/letta_pg_password
  letta_password:
    file: ../../secrets/letta_password
  mariadb_root_password:
    file: ../../secrets/mariadb_root_password.txt
  mariadb_password:
    file: ../../secrets/mariadb_password.txt
  gsdb_root_password:
    file: ../../secrets/gsdb_root_password.txt
  gsdb_password:
    file: ../../secrets/gsdb_password.txt
  romm_db_password:
    file: ../../secrets/romm_db_password.txt
  romm_auth_secret_key:
    file: ../../secrets/romm_auth_secret_key.txt
  screenscraper_password:
    file: ../../secrets/screenscraper_password.txt
  retroachievements_api_key:
    file: ../../secrets/retroachievements_api_key.txt
  steamgriddb_api_key:
    file: ../../secrets/steamgriddb_api_key.txt
  hardcover_auth:
    file: ../../secrets/hardcover_auth.txt
  rreading_glasses_db_password:
    file: ../../secrets/rreading_glasses_db_password.txt
