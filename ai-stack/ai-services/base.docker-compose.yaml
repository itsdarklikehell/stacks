# Shared networks, volumes, and secrets for all services
# NETWORK SEGMENTATION:
# - Use dedicated networks for each stack
# - Restrict inter-stack communication unless required
# - Document network policies
#
# CI/CD & DOCUMENTATION:
# - Use GitHub Actions or similar for automated testing/deployment
# - Document all customizations and manual steps in README.md
# - Keep this file and .env in sync

name: ai-services

networks:
  host:
  ai-services:
    external: true

volumes:
  anything-llm_storage:
    name: anything-llm_storage
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/anything-llm/anything-llm_storage

  basic-memory-config:
    name: basic-memory-config
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/basic-memory/config
  basic-memory-knowledge:
    name: basic-memory-knowledge
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/basic-memory/knowledge
  basic-memory-personal-notes:
    name: basic-memory-personal-notes
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/basic-memory/personal-notes
  basic-memory-work-notes:
    name: basic-memory-work-notes
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/basic-memory/work-notes

  chroma_data:
    name: chroma_data
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/chroma/data
  chroma_index:
    name: chroma_index
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/chroma/index

  clickhouse_backups:
    name: clickhouse_backups
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/backups
  clickhouse_configs:
    name: clickhouse_configs
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/configs
  clickhouse_data:
    name: clickhouse_data
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/data
  clickhouse_initdb:
    name: clickhouse_initdb
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/initdb
  clickhouse_logs:
    name: clickhouse_logs
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/logs
  clickhouse_users:
    name: clickhouse_users
    driver: local
    driver_opts:
      type: none
      o: bind
      device: ../../DATA/ai-stack/clickhouse/users

  faster-whisper-data:
  grafana_data:
  home-assistant-config:
  home-assistant-media:
  koboldccp-data:
  kokoro_data:
  kokoro_index_data:
  letta_pgdata: # ../../DATA/ai-stack/letta/.persist/pgdata
  letta_toolexec: # ../../DATA/ai-stack/letta/tool_execution_dir
  librechat_pgdata:
  libretranslate-whispher_cache:
  libretranslate-whispher_data:
  minio_data:
  mongo-whispher_data:
  mongo-whispher_logs:
  n8n_data:
  n8n_local-files:
  ollama-data: # ../../DATA/ai-stack/ollama
  open-webui-data:
  piper_data:
  postgresdata:
  prometheus_data:
  redisdata:
  searxng_data: # ../../DATA/ai-stack/searxng
  signoz_data:
  signoz_index:
  stable-diffusion-webui-docker_config: # ../../DATA/ai-stack/stable-diffusion-webui-docker/data/config
  stable-diffusion-webui-docker_data: # ../../DATA/ai-stack/stable-diffusion-webui-docker/data
  stable-diffusion-webui-docker_embeddings: # ../../DATA/ai-stack/stable-diffusion-webui-docker/data/embeddings
  stable-diffusion-webui-docker_models: # ../../DATA/ai-stack/stable-diffusion-webui-docker/data/Models
  stable-diffusion-webui-docker_output: # ../../DATA/ai-stack/stable-diffusion-webui-docker/data/Output
  stable-diffusion-webui-docker_workflows: # ../../DATA/ai-stack/SwarmUI/src/BuiltinExtensions/ComfyUIBackend/CustomWorkflows
  swarmbackend:
  swarmdata:
  swarmdlnodes:
  swarmextensions:
  userdata:
  weaviatedata:
  whishper_logs: # ../../DATA/ai-stack/whishper/logs
  whishper_models: # ../../DATA/ai-stack/whishper/models
  whishper_uploads: # ../../DATA/ai-stack/whishper/uploads
  whisper_cache: # ../../DATA/ai-stack/whishperX/cache
  wyoming-piper_data:
secrets:
  GF_SECURITY_ADMIN_USER:
    file: ../../secrets/grafana_password
  GF_SECURITY_ADMIN_PASSWORD_FILE:
    file: ../../secrets/grafana_username
#   mariadb_root_password:
#     file: ../../secrets/mariadb_root_password
#   mariadb_password:
#     file: ../../secrets/mariadb_password
#   gsdb_root_password:
#     file: ../../secrets/gsdb_root_password
#   gsdb_password:
#     file: ../../secrets/gsdb_password
#   romm_db_password:
#     file: ../../secrets/romm_db_password
#   romm_auth_secret_key:
#     file: ../../secrets/romm_auth_secret_key
#   screenscraper_password:
#     file: ../../secrets/screenscraper_password
#   retroachievements_api_key:
#     file: ../../secrets/retroachievements_api_key
#   steamgriddb_api_key:
#     file: ../../secrets/steamgriddb_api_key
#   hardcover_auth:
#     file: ../../secrets/hardcover_auth
#   rreading_glasses_db_password:
#     file: ../../secrets/rreading_glasses_db_password
